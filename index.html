<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bug Screen Fix — Quote & Booking</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif;background:#fafafa;color:#111}
    .container{max-width:72rem;margin:0 auto;padding:0 1rem}
    .card{background:#fff;border:1px solid #e5e7eb;border-radius:16px;padding:16px}
    .btn{display:inline-flex;align-items:center;justify-content:center;border-radius:12px;padding:10px 16px;cursor:pointer}
  </style>
</head>
<body class="min-h-screen bg-neutral-50 text-neutral-900">
  <header class="sticky top-0 z-40 backdrop-blur bg-white/80 border-b border-neutral-200">
    <div class="container py-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="h-9 w-9 rounded-xl bg-lime-500 grid place-items-center font-bold text-white">B</div>
        <div class="font-semibold">Bug Screen Fix</div>
      </div>
      <a href="#book" class="btn bg-lime-600 text-white hover:bg-lime-700 transition">Get instant quote</a>
    </div>
  </header>

  <main>
    <!-- Hero -->
    <section class="relative overflow-hidden">
      <div class="absolute inset-0 bg-gradient-to-br from-lime-100 via-white to-white"></div>
      <div class="relative container py-10 md:py-16 grid md:grid-cols-2 gap-10 items-center">
        <div>
          <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight">Screens fixed, bugs stopped.</h1>
          <p class="mt-4 text-lg text-neutral-700">Fast, mobile window and door screen repair in the KC Northland. Upfront prices, on-site service, and easy online scheduling.</p>
          <ul class="mt-4 text-neutral-700 list-disc list-inside space-y-1">
            <li>Standard window (fiberglass) — $39</li>
            <li>Patio door rescreen (fiberglass) — $129</li>
            <li>Full replacement frame + screen (window) — $59</li>
            <li>Full replacement frame + screen (door) — $229</li>
          </ul>
          <p class="mt-3 text-sm font-semibold text-emerald-700">Pet owners: ask about tougher, pet-resistant and sun-resistant screen materials. Installer will confirm upgrades on-site (~+25% on selected items).</p>
          <div class="mt-6 flex flex-wrap gap-3">
            <a href="#pricing" class="btn bg-neutral-900 text-white hover:bg-neutral-800">See pricing</a>
            <a href="#book" class="btn bg-lime-600 text-white hover:bg-lime-700">Schedule now</a>
          </div>
        </div>
        <div class="md:justify-self-end w-full">
          <div class="card shadow-sm">
            <img src="images/hero.jpg" alt="Local handyman repairing window screen" class="rounded-xl mb-3 w-full h-48 object-cover"/>
            <p class="text-sm text-neutral-600">Local handyman, authentic screen repair service.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Pricing -->
    <section id="pricing" class="py-12 border-t border-neutral-200">
      <div class="container">
        <h2 class="text-3xl font-extrabold">Simple, fair pricing</h2>
        <p class="text-neutral-700 mt-2">Prices include standard fiberglass materials and base labor before any mesh upgrades or discounts.</p>
        <div class="mt-8 grid md:grid-cols-4 gap-5">
          <div class="card"><div class="text-lg font-semibold">Standard window (fiberglass)</div><div class="mt-1 text-3xl font-extrabold tracking-tight">$39</div><div class="text-xs text-neutral-500 mt-1">Up to ~60&quot; width</div></div>
          <div class="card"><div class="text-lg font-semibold">Patio door rescreen (fiberglass)</div><div class="mt-1 text-3xl font-extrabold tracking-tight">$129</div><div class="text-xs text-neutral-500 mt-1">Existing door frame</div></div>
          <div class="card"><div class="text-lg font-semibold">Full replacement frame + screen (window)</div><div class="mt-1 text-3xl font-extrabold tracking-tight">$59</div><div class="text-xs text-neutral-500 mt-1">Standard window size</div></div>
          <div class="card"><div class="text-lg font-semibold">Full replacement frame + screen (door)</div><div class="mt-1 text-3xl font-extrabold tracking-tight">$229</div><div class="text-xs text-neutral-500 mt-1">Standard screen door</div></div>
        </div>
        <div class="mt-6 text-sm text-neutral-600"><strong>Bulk discounts available</strong> for HOAs, builders, and contractors. Ask us about multi‑unit pricing.</div><strong>Bulk discounts available</strong> for HOAs, builders, and contractors. Ask us about multi‑unit pricing.</div>
      </div>
    </section>

    <!-- Booking -->
    <section id="book" class="py-12 border-t border-neutral-200 bg-white">
      <div class="container">
        <h2 class="text-3xl font-extrabold">Get an instant quote and book</h2>
        <p class="text-neutral-700 mt-2">Fill your contact once, pick counts below, and choose a time. Totals update instantly.</p>

        <!-- Contact & Address -->
        <div class="card mt-6">
          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <label class="text-sm font-medium">Full name</label>
              <input id="custName" class="mt-1 w-full rounded-xl border p-2" type="text" placeholder="Jane Smith" />
            </div>
            <div>
              <label class="text-sm font-medium">Mobile phone</label>
              <input id="custPhone" class="mt-1 w-full rounded-xl border p-2" type="tel" placeholder="(913) 555-1234" />
            </div>
            <div class="md:col-span-2">
              <label class="text-sm font-medium">Service address</label>
              <input id="custAddress" class="mt-1 w-full rounded-xl border p-2" type="text" placeholder="123 Main St" />
            </div>
            <div>
              <label class="text-sm font-medium">City</label>
              <select id="custCity" class="mt-1 w-full rounded-xl border p-2">
                <option value="">Select</option>
                <option>Liberty</option>
                <option>Kansas City (Northland)</option>
                <option>Gladstone</option>
                <option>Claycomo</option>
                <option>Smithville</option>
                <option>Pleasant Valley</option>
              </select>
            </div>
            <div>
              <label class="text-sm font-medium">ZIP</label>
              <input id="custZip" class="mt-1 w-full rounded-xl border p-2" type="text" placeholder="64157" />
            </div>
          </div>
        </div>

        <!-- Quote Calculator -->
        <div class="card mt-6 space-y-6">
          <div>
            <label class="text-sm font-medium">Standard window (fiberglass) — $39</label>
            <div class="mt-2 flex items-center gap-2">
              <button type="button" class="px-3 py-2 rounded-xl border" onclick="adjust('qtyWindows',-1)">−</button>
              <input id="qtyWindows" class="w-24 rounded-xl border p-2 text-center" type="number" min="0" value="0" />
              <button type="button" class="px-3 py-2 rounded-xl border" onclick="adjust('qtyWindows',1)">+</button>
            </div>
          </div>
          <div>
            <label class="text-sm font-medium">Patio door rescreen (fiberglass) — $129</label>
            <div class="mt-2 flex items-center gap-2">
              <button type="button" class="px-3 py-2 rounded-xl border" onclick="adjust('qtyDoorRescreen',-1)">−</button>
              <input id="qtyDoorRescreen" class="w-24 rounded-xl border p-2 text-center" type="number" min="0" value="0" />
              <button type="button" class="px-3 py-2 rounded-xl border" onclick="adjust('qtyDoorRescreen',1)">+</button>
            </div>
          </div>
          <div>
            <label class="text-sm font-medium">Full replacement frame + screen (window) — $59</label>
            <div class="mt-2 flex items-center gap-2">
              <button type="button" class="px-3 py-2 rounded-xl border" onclick="adjust('qtyFrameWindow',-1)">−</button>
              <input id="qtyFrameWindow" class="w-24 rounded-xl border p-2 text-center" type="number" min="0" value="0" />
              <button type="button" class="px-3 py-2 rounded-xl border" onclick="adjust('qtyFrameWindow',1)">+</button>
            </div>
          </div>
          <div>
            <label class="text-sm font-medium">Full replacement frame + screen (door) — $229</label>
            <div class="mt-2 flex items-center gap-2">
              <button type="button" class="px-3 py-2 rounded-xl border" onclick="adjust('qtyFrameDoor',-1)">−</button>
              <input id="qtyFrameDoor" class="w-24 rounded-xl border p-2 text-center" type="number" min="0" value="0" />
              <button type="button" class="px-3 py-2 rounded-xl border" onclick="adjust('qtyFrameDoor',1)">+</button>
            </div>
          </div>

          <!-- Pet mesh acknowledgment -->
          <div class="card bg-amber-50 border-amber-200">
            <label class="flex items-start gap-2 text-sm text-neutral-800">
              <input type="checkbox" id="optPetAck" class="mt-1 h-4 w-4">
              <span><strong>Acknowledgment:</strong> Pet‑resistant/heavy‑duty mesh is available. <u>Approx. +25%</u> will be calculated by the installer <u>only on upgraded items</u> and added to the final invoice if selected on‑site.</span>
            </label>
          </div>

          <!-- Totals -->
          <div class="mt-2 bg-neutral-50 border p-4 rounded-xl text-sm">
            <div class="flex items-center justify-between mt-1"><div>Items subtotal</div><div>$<span id="itemsSubtotal">0.00</span></div></div>
            <div class="flex items-center justify-between mt-3"><div>Service fee to reach ~$99 (cap $35)</div><div>$<span id="serviceFee">0.00</span></div></div>
            <div class="mt-2 border-t pt-3 flex items-center justify-between font-semibold text-lg"><div>Estimated total</div><div>$<span id="finalTotal">0.00</span></div></div>
          </div>
        </div>

        <!-- Routing to Cal.com -->
        <div class="card mt-6">
          <h3 class="text-lg font-semibold">Book your spot</h3>
          <p class="text-sm text-neutral-600">We’ll calculate time based on your selections and route you to the right Cal.com slot.</p>
          <div class="mt-3 flex gap-3">
            <button type="button" class="btn bg-neutral-900 text-white hover:bg-neutral-800" onclick="goToCal()">Choose a time</button>
            <a class="btn border hover:bg-neutral-100" target="_blank" href="https://cal.com/bugscreenfix">Open Cal.com</a>
            <span class="text-xs text-neutral-500 self-center">If the button doesn’t work, use the Cal.com link.</span>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="py-10 border-t border-neutral-200 bg-neutral-50">
    <div class="container grid md:grid-cols-3 gap-6 text-sm">
      <div>
        <div class="font-semibold">Bug Screen Fix</div>
        <div class="text-neutral-600 mt-2">Mobile window and door screen repair serving Liberty, KC Northland, and nearby.</div>
      </div>
      <div>
        <div class="font-semibold">Contact</div>
        <div class="mt-2 grid gap-1 text-neutral-700">
          <div>Phone: (913) 735-4947</div>
          <div>Email: <a class="underline" href="mailto:installer@bugscreenfix.com">installer@bugscreenfix.com</a></div>
        </div>
      </div>
      <div>
        <div class="font-semibold">Links</div>
        <ul class="mt-2 grid gap-1 text-neutral-700">
          <li><a class="underline" href="#pricing">Pricing</a></li>
          <li><a class="underline" href="#book">Schedule</a></li>
        </ul>
      </div>
    </div>
    <div class="container mt-6 text-xs text-neutral-500">© <span id="year"></span> Bug Screen Fix. All rights reserved.</div>
  </footer>

  <script>
    const PRICES = { window: 39, doorRescreen: 129, frameWindow: 59, frameDoor: 229, minimumTicket: 99, serviceCap: 35 };
    const $ = id => document.getElementById(id);
    const setText = (id, val) => { const el = $(id); if (el) el.textContent = (typeof val === 'number' ? val.toFixed(2) : val); };
    function valInt(id){ const el = $(id); return el ? Math.max(0, parseInt(el.value || '0', 10)) : 0; }

    function adjust(id, delta){ const el=$(id); if(!el) return; const cur=parseInt(el.value||'0',10)||0; el.value=Math.max(0,cur+delta); calc(); }

    function calc(){
      const qW=valInt('qtyWindows'); const qDR=valInt('qtyDoorRescreen'); const qFW=valInt('qtyFrameWindow'); const qFD=valInt('qtyFrameDoor');
      const itemsSubtotal=qW*PRICES.window+qDR*PRICES.doorRescreen+qFW*PRICES.frameWindow+qFD*PRICES.frameDoor;
      let serviceFee=0; if(itemsSubtotal>0&&itemsSubtotal<PRICES.minimumTicket){ serviceFee=Math.min(PRICES.serviceCap,PRICES.minimumTicket-itemsSubtotal); }
      setText('itemsSubtotal',itemsSubtotal); setText('serviceFee',serviceFee); setText('finalTotal',itemsSubtotal+serviceFee);
    }

    const CAL_BASE = 'https://cal.com/bugscreenfix';
    const USE_EVENT_SLUGS = false; // set to true after you create install-30/install-45/... events in Cal.com
    const EVENT_MAP = [
      {maxMin:30, slug:'install-30'},
      {maxMin:45, slug:'install-45'},
      {maxMin:60, slug:'install-60'},
      {maxMin:75, slug:'install-75'},
      {maxMin:90, slug:'install-90'},
      {maxMin:105, slug:'install-105'},
      {maxMin:120, slug:'install-120'}
    ];
    function computeDurationMin(){ const total=valInt('qtyWindows')+valInt('qtyDoorRescreen')+valInt('qtyFrameWindow')+valInt('qtyFrameDoor'); if(total<=0)return 30; const m=30+15*(total-1); return Math.ceil(m/15)*15; }
    function pickEventUrl(minutes){
      if(!USE_EVENT_SLUGS) return CAL_BASE; // simple, always works
      let slug = EVENT_MAP[EVENT_MAP.length-1].slug;
      for(const row of EVENT_MAP){ if(minutes <= row.maxMin){ slug = row.slug; break; } }
      return `${CAL_BASE}/${slug}`;
    } } return `https://cal.com/bugscreenfix/${slug}`; }

    function goToCal(){
      const name=$('custName')?.value.trim(); const phone=$('custPhone')?.value.trim(); const addr=$('custAddress')?.value.trim(); const city=$('custCity')?.value.trim(); const zip=$('custZip')?.value.trim();
      if(!name||!phone||!addr||!city||!zip){ alert('Please complete name, phone, address, city, and ZIP.'); return; }
      const minutes=computeDurationMin(); const base=pickEventUrl(minutes); const url=new URL(base);
      const summary=`Name: ${name} | Phone: ${phone} | Address: ${addr}, ${city} ${zip} | Qty: ${valInt('qtyWindows')} windows, ${valInt('qtyDoorRescreen')} patio doors, ${valInt('qtyFrameWindow')} frame windows, ${valInt('qtyFrameDoor')} frame doors`;
      url.searchParams
